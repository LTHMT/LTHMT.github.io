正则表达式（Regular Expression，简称 Regex）是一种文本匹配的工具，可以通过定义特定的模式来查找、匹配和操作文本。它广泛应用于字符串处理、数据提取、格式验证等场景。以下是正则表达式的基础知识。

## 1. 正则表达式基础语法

- **普通字符**：直接匹配该字符本身。例如，`cat` 匹配字符串 "cat"。
- **特殊字符**：用于指定某种特定的匹配行为，例如 `.`、`*`、`?` 等。

| 符号  | 说明                                     |
|-------|----------------------------------------|
| `.`   | 匹配任意单个字符（换行符除外）                 |
| `^`   | 匹配字符串的开头                           |
| `$`   | 匹配字符串的结尾                           |
| `*`   | 匹配前面的字符零次或多次                     |
| `+`   | 匹配前面的字符一次或多次                     |
| `?`   | 匹配前面的字符零次或一次                     |
| `{n}` | 匹配前面的字符正好 n 次                      |
| `{n,}`| 匹配前面的字符至少 n 次                      |
| `{n,m}` | 匹配前面的字符至少 n 次，至多 m 次         |
| `[]`  | 匹配字符集中的任意单个字符                    |
| `|`   | 或运算符，匹配左边或右边的表达式                |
| `()`  | 分组符，用于提取子表达式                      |
| `\`   | 转义字符，用于匹配特殊字符                     |

## 2. 常用字符集

字符集可以用 `[]` 来定义，表示匹配字符集中的任意一个字符：

| 字符集      | 说明                             |
|-------------|--------------------------------|
| `[abc]`     | 匹配 `a`、`b` 或 `c`            |
| `[^abc]`    | 匹配除了 `a`、`b`、`c` 之外的任意字符  |
| `[0-9]`     | 匹配任意数字                     |
| `[a-z]`     | 匹配小写字母                     |
| `[A-Z]`     | 匹配大写字母                     |
| `[a-zA-Z]`  | 匹配任意英文字母                 |
| `\d`        | 匹配任意数字，等同于 `[0-9]`      |
| `\D`        | 匹配非数字字符                    |
| `\w`        | 匹配字母、数字或下划线，等同于 `[a-zA-Z0-9_]` |
| `\W`        | 匹配非字母、数字或下划线           |
| `\s`        | 匹配任意空白字符（包括空格、制表符等）   |
| `\S`        | 匹配非空白字符                    |

## 3. 常见的正则表达式模式示例

- **匹配邮箱**：`[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}`  
  - 匹配邮箱格式如 `example@example.com`

- **匹配手机号**（假设以 `1` 开头的 11 位数字）：`1[3-9]\d{9}`  
  - 匹配手机号码如 `13812345678`

- **匹配 IP 地址**：`((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)`  
  - 匹配格式如 `192.168.1.1`

- **匹配日期**（格式 `YYYY-MM-DD`）：`\d{4}-\d{2}-\d{2}`  
  - 匹配日期格式如 `2023-01-01`

## 4. 在 Python 中使用正则表达式

Python 的 `re` 模块提供了多种正则表达式的操作方法：

```python
import re

# 查找匹配的字符串
text = "My phone number is 13812345678."
pattern = r"1[3-9]\d{9}"
match = re.search(pattern, text)
if match:
    print("找到手机号码:", match.group())

# 替换字符串
text = "My phone number is 13812345678."
new_text = re.sub(pattern, "***********", text)
print("替换后的文本:", new_text)

# 查找所有匹配项
emails = "contact: test@example.com, admin@mail.com"
pattern = r"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
matches = re.findall(pattern, emails)
print("找到的邮箱:", matches)
```

## 5. 正则表达式的常用方法

- `re.search()`：搜索字符串中第一次出现的匹配项，返回 `Match` 对象。
- `re.match()`：从字符串开头进行匹配，如果开头不匹配则返回 `None`。
- `re.findall()`：返回字符串中所有非重叠的匹配项，返回一个列表。
- `re.sub()`：替换匹配的字符串。
- `re.split()`：按照匹配项分割字符串。

## 6. 贪婪匹配和非贪婪匹配

默认情况下，正则表达式是 **贪婪匹配**，即尽可能多地匹配字符。可以使用 `?` 使其变成 **非贪婪匹配**。

- 贪婪匹配：`<.*>` 会匹配 `<tag>content</tag>` 整个字符串。
- 非贪婪匹配：`<.*?>` 只匹配 `<tag>`。

```python
text = "<tag>content</tag>"
pattern = r"<.*?>"  # 非贪婪匹配
match = re.search(pattern, text)
if match:
    print("非贪婪匹配:", match.group())
```

